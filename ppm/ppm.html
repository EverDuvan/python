<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Pulsaciones</title>
</head>
<body>
    <h1>Calculadora de Pulsaciones</h1>
    <div>
        <label for="edad">Edad:</label>
        <input type="number" id="edad">
    </div>
    <div>
        <label for="ppm">Pulsaciones por minuto:</label>
        <input type="number" id="ppm">
    </div>
    <div>
        <label for="genero">Género:</label>
        <select id="genero">
            <option value="H">Hombre</option>
            <option value="M">Mujer</option>
        </select>
    </div>
    <div>
        <button onclick="calcularPulsaciones()">Calcular</button>
    </div>
    <div id="resultado"></div>

    <script>
        function alerta_pulsaciones(edad, pulsaciones, genero) {
            const rangos_hombres = {
                '20-29': [[86, Infinity], [70, 84], [62, 68], [0, 60]],
                '30-39': [[86, Infinity], [72, 84], [64, 70], [0, 62]],
                '40-49': [[90, Infinity], [74, 88], [66, 72], [0, 64]],
                '50+': [[90, Infinity], [76, 88], [68, 74], [0, 66]]
            };

            const rangos_mujeres = {
                '20-29': [[96, Infinity], [78, 94], [72, 76], [0, 70]],
                '30-39': [[98, Infinity], [80, 96], [72, 78], [0, 70]],
                '40-49': [[100, Infinity], [80, 98], [74, 78], [0, 72]],
                '50+': [[104, Infinity], [84, 102], [76, 82], [0, 74]]
            };

            const categorias = ['INADECUADO', 'NORMAL', 'BUENO', 'EXCELENTE'];

            if (["HOMBRE", "H"].includes(genero.toUpperCase())) {
                var rangos = rangos_hombres;
            } else if (["MUJER", "M"].includes(genero.toUpperCase())) {
                var rangos = rangos_mujeres;
            } else {
                return "Género no reconocido";
            }

            for (const rango_edad in rangos) {
                if (rango_edad.includes('+')) {
                    if (edad >= parseInt(rango_edad.split('+')[0])) {
                        for (let i = 0; i < 4; i++) {
                            if (pulsaciones >= rangos[rango_edad][i][0] && pulsaciones <= rangos[rango_edad][i][1]) {
                                return categorias[i];
                            }
                        }
                    }
                } else {
                    const [inicio, fin] = rango_edad.split('-').map(Number);
                    if (edad >= inicio && edad <= fin) {
                        for (let i = 0; i < 4; i++) {
                            if (pulsaciones >= rangos[rango_edad][i][0] && pulsaciones <= rangos[rango_edad][i][1]) {
                                return categorias[i];
                            }
                        }
                    }
                }
            }

            return "Edad fuera de rango";
        }

        function calcularPulsaciones() {
            const edad = parseInt(document.getElementById('edad').value);
            const ppm = parseInt(document.getElementById('ppm').value);
            const genero = document.getElementById('genero').value;
            
            const resultado = alerta_pulsaciones(edad, ppm, genero);
            document.getElementById('resultado').innerText = 'Resultado: ' + resultado;
        }
    </script>
</body>
</html>
